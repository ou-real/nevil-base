language:
  - cpp

compiler:
  - gcc
  - clang

before_install:
  # clang 3.4
  - if [ "$CXX" == "clang++" ]; then sudo add-apt-repository -y ppa:h-rayflood/llvm; fi

  - sudo apt-get update -qq

install:
  # clang 3.4
  - if [ "$CXX" == "clang++" ]; then sudo apt-get install --allow-unauthenticated -qq clang-3.5; fi
  - if [ "$CXX" == "clang++" ]; then export CXX="clang++-3.5"; fi

script:
  - cmake CMakeLists.txt -DGUI=OFF -DDEBUG=ON -DO=OFF
  - make
  - ./build/nevil -tn 1 -ps 20 -mg 5 -xn TestTrial
  - ./build/nevil -mt 10 -ps 20 -mg 5 -xn TestTrial

  - cmake CMakeLists.txt -DGUI=OFF -DDEBUG=OFF -DO=ON
  - make

  - cmake CMakeLists.txt -DGUI=ON -DDEBUG=ON -DO=OFF
  - make

  - cmake CMakeLists.txt -DGUI=ON -DDEBUG=OFF -DO=ON
  - make